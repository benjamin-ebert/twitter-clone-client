<div *ngIf="profile$ | async as user">
  <!-- Info Area -->
  <div class="relative">
    <div class="h-32 md:h-52">
    <!-- TODO: Build the image path in go and attach it to the user object -->
      <img src="http://localhost:1111/images/user/{{ user!.id }}/{{ user!.header }}"
           alt="user header image"
           class="object-cover h-full w-full">
    </div>
    <div class="h-24 w-24 md:h-36 md:w-36 absolute top-20 md:top-32 left-4">
      <img src="http://localhost:1111/images/user/{{ user!.id }}/{{ user!.avatar }}"
           alt="user avatar"
           class="object-cover h-full w-full rounded-full border-4 border-white">
    </div>
    <div class="h-40 md:h-44 mx-4 my-3">
      <div class="flex justify-end items-start">
        <button mat-stroked-button>Set up profile</button>
      </div>
      <div class="text-gray-500 pt-4 md:pt-8">
        <div class="text-lg text-black font-bold">{{ user!.name }}</div>
        <!-- TODO: Display the handle here, not the name -->
        <div class="-mt-1">@{{ user!.name }}</div>
        <div class="flex items-center py-2">
          <mat-icon>calendar_today</mat-icon>
          <div class="pl-1">Joined {{ user!.created_at | date }}</div>
        </div>
        <div class="flex">
          <div class="pr-4"><span class="font-bold text-black">
            {{ user!.follows.length }}</span> Following
          </div>
          <div class="pr-4"><span class="font-bold text-black">0</span> Followers</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Tweets Area -->
  <mat-tab-group mat-align-tabs="center" [disablePagination]="true">
    <mat-tab label="Tweets">
      <div *ngFor="let tweet of user!.tweets">
        <div *ngIf="!tweet.replies_to_id && !tweet.retweets_id ">
          <app-tweet [tweet]="tweet"></app-tweet>
        </div>
      </div>
    </mat-tab>
    <mat-tab label="Tweets & Replies">
      Tweets and Replies are your normal tweets PLUS any tweets you've sent as a reply to someone else's [public] tweet. These are tweets that typically start with the “@” mention.
      <div *ngFor="let tweet of user!.tweets">
        <app-tweet [tweet]="tweet"></app-tweet>
      </div>
    </mat-tab>
    <mat-tab label="Media">
      Tweets I did that contain images.
      <div *ngFor="let tweet of user!.tweets">
        <div *ngIf="tweet.images.length">
          <app-tweet [tweet]="tweet"></app-tweet>
        </div>
      </div>
    </mat-tab>
    <mat-tab label="Likes">
      All the stuff I liked in the past.
      <div *ngFor="let like of user!.likes">
        <app-tweet [tweet]="like.tweet"></app-tweet>
      </div>
    </mat-tab>
  </mat-tab-group>

</div>

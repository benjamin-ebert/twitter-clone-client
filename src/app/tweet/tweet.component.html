<div>
  <div class="my-3 mx-4 relative">
    <div *ngIf="tweet.id === 0; else showTweet" class="relative flex justify-around items-center">
      <div class="w-full h-20 bg-gray-300 opacity-20 rounded-xl">
      </div>
      <div class="absolute text-gray-500 flex items-center">
        <mat-icon>block</mat-icon>
        <div class="pl-1">This tweet has been removed.</div>
      </div>
    </div>
    <ng-template #showTweet>
      <div class="absolute top-0 right-0">
        <mat-icon>more_horiz</mat-icon>
      </div>
      <div class="flex items-start">
        <a routerLink="../{{ tweet.user!.id }}">
          <div class="h-12 w-12 mr-2 flex-shrink-0">
          <img *ngIf="tweet.user!.avatar; else avatarPlaceholder" matListAvatar src="http://localhost:1111/images/user/{{ tweet.user!.id }}/{{ tweet.user!.avatar }}"
               alt="user avatar" class="object-cover h-full w-full rounded-full cursor-pointer">
            <ng-template #avatarPlaceholder>
              <div class="h-full w-full flex justify-around items-center bg-gray-200 rounded-full">
                <mat-icon class="text-gray-600" style="width: auto; height: auto">person_outline</mat-icon>
              </div>
            </ng-template>
          </div>
        </a>
        <div class="flex-grow">
          <div>
            <a routerLink="../{{ tweet.user!.id }}">
              <span class="font-bold pr-2 hover:underline">{{ tweet.user!.name }}</span>
            </a>
            <span class="text-gray-500">@{{ tweet.user!.handle }} Â· {{ tweet!.created_at | date }}</span>
          </div>
          {{ tweet.content }}
          <div *ngIf="tweet.images?.length"
               class="mt-3 flex h-80 rounded-3xl overflow-hidden"
               [ngClass]="{'flex-wrap' : tweet.images.length === 4}">
            <img *ngFor="let img of tweet.images" src="http://localhost:1111/{{ img.url }}"
                 alt="tweet image" class="w-full object-cover border border-transparent"
                 [ngClass]="{
                 'w-1/2' : tweet.images.length === 2,
                 'w-1/3' : tweet.images.length === 3,
                 'w-1/2 h-1/2' : tweet.images.length === 4
                 }">
          </div>
          <div class="pt-3 flex text-gray-500">
            <div class="w-1/4 flex items-center">
              <mat-icon>chat_bubble_outline</mat-icon>
              <div class="pl-2">{{ tweet.replies_count }}</div>
            </div>
            <div class="w-1/4 flex items-center">
              <mat-icon>repeat</mat-icon>
              <div class="pl-2">{{ tweet.retweets_count }}</div>
            </div>
            <div class="w-1/4 flex items-center">
              <mat-icon>favorite_border</mat-icon>
              <div class="pl-2">{{ tweet.likes_count }}</div>
            </div>
            <div class="w-1/4 flex items-center">
              <mat-icon>ios_share</mat-icon>
            </div>
          </div>
        </div>
      </div>
    </ng-template>
  </div>
  <mat-divider></mat-divider>
</div>
